(function(e){function t(t){for(var n,i,o=t[0],l=t[1],d=t[2],s=0,b=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&b.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,d||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},c=[];function i(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"f4ef5645"}[e]+".js"}function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=i(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(s);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",d.name="ChunkLoadError",d.type=n,d.request=c,a[1](d)}r[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/card-manager/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=d;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2928:function(e,t,a){},3399:function(e,t,a){"use strict";a("40f4")},"40f4":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r={id:"nav"},c=Object(n["h"])("Home"),i=Object(n["h"])(" | ");function o(e,t){var a=Object(n["D"])("router-link"),o=Object(n["D"])("router-view");return Object(n["v"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",r,[Object(n["i"])(a,{to:"/"},{default:Object(n["L"])((function(){return[c]})),_:1}),i]),Object(n["i"])(o)],64)}a("9ffc");var l=a("6b0d"),d=a.n(l);const s={},u=d()(s,[["render",o]]);var b=u,m=(a("d3b7"),a("3ca3"),a("ddb0"),a("6c02")),p={class:"home"},f={class:"container"};function O(e,t,a,r,c,i){var o=Object(n["D"])("Card"),l=Object(n["D"])("AddCard");return Object(n["v"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",p,[Object(n["g"])("button",{onClick:t[0]||(t[0]=function(){return i.toggleAddCard&&i.toggleAddCard.apply(i,arguments)})},"Add new"),Object(n["g"])("div",f,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(c.cards,(function(e){return Object(n["v"])(),Object(n["d"])(o,{key:e.id,card:e,onReloadData:i.fetchData},null,8,["card","onReloadData"])})),128))])]),c.addNewCard?(Object(n["v"])(),Object(n["d"])(l,{key:0,onReloadData:i.fetchData},null,8,["onReloadData"])):Object(n["e"])("",!0)],64)}var j=a("1da1"),v=(a("96cf"),{class:"square"}),h={key:0,class:"container"},g={class:"mb-3"},y=Object(n["g"])("label",{class:"inline-block mb-2"},"number",-1),w={class:"mb-3"},x=Object(n["g"])("label",{class:"inline-block mb-2"},"PIN",-1),k={class:"mb-3"},_=Object(n["g"])("label",{class:"inline-block mb-2"},"activation date",-1),C={class:"mb-3"},D=Object(n["g"])("label",{for:"pass",class:"inline-block mb-2"},"valid to date",-1),S={class:"mb-3"},P=Object(n["g"])("label",{for:"confirm_password",class:"inline-block mb-2"},"balance",-1),T=Object(n["g"])("button",{type:"submit"},"submit",-1);function q(e,t,a,r,c,i){var o=this,l=Object(n["D"])("router-link"),d=Object(n["D"])("vee-field"),s=Object(n["D"])("error-message"),u=Object(n["D"])("vee-form");return Object(n["v"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",v,[Object(n["i"])(l,{to:{name:"Manage",params:{id:a.card.id}}},{default:Object(n["L"])((function(){return[Object(n["g"])("p",null,Object(n["G"])(a.card.nr),1),Object(n["g"])("p",null,Object(n["G"])(a.card.pin),1),Object(n["g"])("p",null,Object(n["G"])(a.card.validto_date),1),Object(n["g"])("p",null,Object(n["G"])(a.card.activation_date),1),Object(n["g"])("p",null,Object(n["G"])(a.card.balance),1)]})),_:1},8,["to"]),Object(n["g"])("button",{onClick:t[0]||(t[0]=function(){return i.deleteCard&&i.deleteCard.apply(i,arguments)})},"Delete"),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return i.toggleEdit&&i.toggleEdit.apply(i,arguments)})},"Edit")]),c.editShow?(Object(n["v"])(),Object(n["f"])("div",h,[Object(n["i"])(u,{onSubmit:i.saveEditCard,"validation-schema":c.schema,"initial-values":a.card},{default:Object(n["L"])((function(){return[Object(n["g"])("div",g,[y,Object(n["i"])(d,{name:"nr",type:"number",placeholder:"Enter card number"}),Object(n["i"])(s,{class:"text-red-600",name:"nr"})]),Object(n["g"])("div",w,[x,Object(n["i"])(d,{type:"number",name:"pin",placeholder:"Enter PIN"}),Object(n["i"])(s,{class:"text-red-600",name:"pin"})]),Object(n["g"])("div",k,[_,Object(n["i"])(d,{name:"activation_date",type:"datetime-local",value:i.formatActivationDate(o.card.activation_date)},null,8,["value"]),Object(n["i"])(s,{class:"text-red-600",name:"activation_date"})]),Object(n["g"])("div",C,[D,Object(n["i"])(d,{name:"validto_date",type:"datetime-local",value:i.formatActivationDate(o.card.validto_date)},null,8,["value"]),Object(n["i"])(s,{class:"text-red-600",name:"activation_date"})]),Object(n["g"])("div",S,[P,Object(n["i"])(d,{id:"confirm_password",name:"balance",type:"number",placeholder:"balance"}),Object(n["i"])(s,{class:"text-red-600",name:"balance"})]),T]})),_:1},8,["onSubmit","validation-schema","initial-values"])])):Object(n["e"])("",!0)],64)}var E=a("5530"),R=(a("b0c0"),a("ac1f"),a("1276"),a("99af"),{data:function(){return{editShow:!1,schema:{nr:"required|min:2|max:20",pin:"required|min:4|max:4",activation_date:"required",validto_date:"required",balance:"required"}}},name:"Card",props:["card"],emits:["reloadData"],methods:{deleteCard:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(JSON.stringify(e.card)),a=confirm("Please confirm that you want to delete this Card"),!a){t.next=12;break}return t.prev=3,t.next=6,fetch("https://test.boncard.pl/rekrutacja/api/delete.php",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:'{"id":'.concat(e.card.id,"}")});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](3),console.log(t.t0);case 11:e.$emit("reloadData",e.name);case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()},saveEditCard:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=Object(E["a"])(Object(E["a"])({},e),{},{id:t.card.id}),a.prev=1,a.next=4,fetch("https://test.boncard.pl/rekrutacja/api/update.php",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log(a.t0);case 9:t.$emit("reloadData");case 10:case"end":return a.stop()}}),a,null,[[1,6]])})))()},toggleEdit:function(){this.editShow=!this.editShow},formatActivationDate:function(e){var t=e,a=t.split(" "),n="".concat(a[0],"T").concat(a[1]);return n}}});a("6775");const N=d()(R,[["render",q]]);var A=N,M={class:"bg-dimm"},I={class:"page-container"},L={class:"mb-3"},G=Object(n["g"])("label",{class:"inline-block mb-2"},"number",-1),J={class:"mb-3"},H=Object(n["g"])("label",{class:"inline-block mb-2"},"PIN",-1),$={class:"mb-3"},F=Object(n["g"])("label",{class:"inline-block mb-2"},"activation date",-1),V={class:"mb-3"},B=Object(n["g"])("label",{for:"pass",class:"inline-block mb-2"},"valid to date",-1),U={class:"mb-3"},z=Object(n["g"])("label",{for:"confirm_password",class:"inline-block mb-2"},"balance",-1),K=Object(n["g"])("button",{type:"submit"},"submit",-1);function Q(e,t,a,r,c,i){var o=Object(n["D"])("vee-field"),l=Object(n["D"])("error-message"),d=Object(n["D"])("vee-form");return Object(n["v"])(),Object(n["f"])("div",M,[Object(n["g"])("div",I,[Object(n["i"])(d,{onSubmit:i.register,"validation-schema":c.schema},{default:Object(n["L"])((function(){return[Object(n["g"])("div",L,[G,Object(n["i"])(o,{name:"nr",type:"number",placeholder:"Enter card number"}),Object(n["i"])(l,{class:"text-red-600",name:"nr"})]),Object(n["g"])("div",J,[H,Object(n["i"])(o,{type:"number",name:"pin",placeholder:"Enter PIN"}),Object(n["i"])(l,{class:"text-red-600",name:"pin"})]),Object(n["g"])("div",$,[F,Object(n["i"])(o,{name:"activation_date",type:"datetime-local"}),Object(n["i"])(l,{class:"text-red-600",name:"activation_date"})]),Object(n["g"])("div",V,[B,Object(n["i"])(o,{name:"validto_date",type:"datetime-local",placeholder:"enter expire date"}),Object(n["i"])(l,{class:"text-red-600",name:"activation_date"})]),Object(n["g"])("div",U,[z,Object(n["i"])(o,{id:"confirm_password",name:"balance",type:"number",placeholder:"balance"}),Object(n["i"])(l,{class:"text-red-600",name:"balance"})]),K]})),_:1},8,["onSubmit","validation-schema"])])])}var W={data:function(){return{schema:{nr:"required|min:2|max:20",pin:"required|min:4|max:4",activation_date:"required",validto_date:"required",balance:"required"}}},emits:["reloadData"],methods:{register:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://test.boncard.pl/rekrutacja/api/create.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:a.next=9;break;case 5:return a.prev=5,a.t0=a["catch"](0),console.log(a.t0),a.abrupt("return");case 9:console.log("succes"),t.$emit("reloadData");case 11:case"end":return a.stop()}}),a,null,[[0,5]])})))()}}};a("a9d4");const X=d()(W,[["render",Q]]);var Y=X,Z={name:"Home",data:function(){return{cards:[],addNewCard:!1}},components:{Card:A,AddCard:Y},methods:{toggleAddCard:function(){this.addNewCard=!this.addNewCard},fetchData:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("emited"),t.next=3,fetch("https://test.boncard.pl/rekrutacja/api/read.php");case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.cards=n.body,e.addNewCard=!1;case 9:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:case"end":return t.stop()}}),t)})))()}};a("3399");const ee=d()(Z,[["render",O],["__scopeId","data-v-6ddf7a20"]]);var te=ee,ae=[{path:"/",name:"Home",component:te},{path:"/manage/:id",name:"Manage",component:function(){return a.e("about").then(a.bind(null,"f74b"))}}],ne=Object(m["a"])({history:Object(m["b"])(),routes:ae,linkExactActiveClass:"text"}),re=ne,ce=a("7bb1"),ie=a("3aa8"),oe={install:function(e){e.component("VeeForm",ce["c"]),e.component("VeeField",ce["b"]),e.component("ErrorMessage",ce["a"]),Object(ce["e"])("required",ie["e"]),Object(ce["e"])("min",ie["d"]),Object(ce["e"])("max",ie["c"]),Object(ce["e"])("email",ie["b"]),Object(ce["e"])("alpha_spaces",ie["a"]),Object(ce["d"])({generateMessage:function(e){var t={required:"The field ".concat(e.field," is required."),min:"The field ".concat(e.field," is too short"),max:"The field ".concat(e.field," is too long"),alpha_spaces:"The field ".concat(e.field," may only contain aphabetical characters and spaces"),email:"The field ".concat(e.field," must be a valid email")},a=t[e.rule.name]?t[e.rule.name]:"The field ".concat(e.field," is invalid.");return a},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},le=Object(n["c"])(b);le.use(re),le.use(oe),le.mount("#app")},6775:function(e,t,a){"use strict";a("8f6d")},"8f6d":function(e,t,a){},"9ffc":function(e,t,a){"use strict";a("2928")},a9d4:function(e,t,a){"use strict";a("dc7c")},dc7c:function(e,t,a){}});
//# sourceMappingURL=app.e69ec799.js.map